<?xml version="1.0"?>
<!--
/**
 * BIG FISH Ltd.
 * http://www.bigfish.hu
 *
 * @title      Magento -> Custom Payment Module for BIG FISH Payment Gateway
 * @category   BigFish
 * @package    BigFish_Pmgw
 * @author     BIG FISH Ltd., paymentgateway [at] bigfish [dot] hu
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 * @copyright  Copyright (c) 2017, BIG FISH Ltd.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <!-- General configuration -->

    <virtualType name="BigFishPmgwFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE</argument>
        </arguments>
    </virtualType>

    <!-- Logger, initialized with BigFishPmgwConfig -->
    <virtualType name="BigFishPmgwLogger" type="Magento\Payment\Model\Method\Logger">
        <arguments>
            <argument name="config" xsi:type="object">BigFishPmgwConfig</argument>
        </arguments>
    </virtualType>

    <type name="BigFish\Pmgw\Gateway\Http\Client\InitializeClient">
        <arguments>
            <argument name="config" xsi:type="object">BigFishPmgwConfig</argument>
        </arguments>
    </type>

    <type name="BigFish\Pmgw\Controller\Payment\Response">
        <arguments>
            <argument name="config" xsi:type="object">BigFishPmgwConfig</argument>
        </arguments>
    </type>

    <type name="BigFish\Pmgw\Gateway\Helper\Helper">
        <arguments>
            <argument name="paymentLogger" xsi:type="object">BigFishPmgwLogger</argument>
        </arguments>
    </type>

    <type name="BigFish\Pmgw\Block\Info">
        <arguments>
            <argument name="config" xsi:type="object">BigFishPmgwConfig</argument>
        </arguments>
    </type>

    <preference for="Magento\Sales\Model\Order\Email\Sender\OrderSender" type="BigFish\Pmgw\Model\Order\Email\Sender\OrderSender"/>
    <preference for="BigFish\Pmgw\Model\Response\ResultInterface" type="BigFish\Pmgw\Model\Response\Result"/>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwConfig</argument>
        </arguments>
    </virtualType>

    <!-- Commands infrastructure -->
    <virtualType name="BigFishPmgwCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">BigFishPmgwInitializeCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Initialize command -->
    <virtualType name="BigFishPmgwInitializeCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">BigFish\Pmgw\Gateway\Request\InitializeRequest</argument>
            <argument name="transferFactory" xsi:type="object">BigFish\Pmgw\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">BigFish\Pmgw\Gateway\Http\Client\InitializeClient</argument>
        </arguments>
    </virtualType>

    <!-- Provider specific configuration -->

    <!-- Barion2 -->
    <virtualType name="BigFishPmgwBarion2Facade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BARION2</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwBarion2ValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwBarion2Config" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BARION2</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwBarion2ValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwBarion2ConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwBarion2ConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwBarion2Config</argument>
        </arguments>
    </virtualType>
    <!-- Barion2 -->

    <!-- Borgun -->
    <virtualType name="BigFishPmgwBorgunFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BORGUN</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwBorgunValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwBorgunConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BORGUN</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwBorgunValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwBorgunConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwBorgunConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwBorgunConfig</argument>
        </arguments>
    </virtualType>
    <!-- Borgun -->

    <!-- Borgun2 -->
    <virtualType name="BigFishPmgwBorgun2Facade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BORGUN2</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwBorgun2ValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwBorgun2Config" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_BORGUN2</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwBorgun2ValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwBorgun2ConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwBorgun2ConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwBorgun2Config</argument>
        </arguments>
    </virtualType>
    <!-- Borgun2 -->

    <!-- Cib -->
    <virtualType name="BigFishPmgwCibFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_CIB</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwCibValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwCibConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_CIB</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwCibValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwCibConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwCibConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwCibConfig</argument>
        </arguments>
    </virtualType>
    <!-- Cib -->

    <!-- Escalion -->
    <virtualType name="BigFishPmgwEscalionFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_ESCALION</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwEscalionValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwEscalionConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_ESCALION</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwEscalionValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwEscalionConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwEscalionConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwEscalionConfig</argument>
        </arguments>
    </virtualType>
    <!-- Escalion -->

    <!-- Fhb -->
    <virtualType name="BigFishPmgwFhbFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_FHB</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwFhbValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwFhbConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_FHB</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwFhbValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwFhbConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwFhbConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwFhbConfig</argument>
        </arguments>
    </virtualType>
    <!-- Fhb -->

    <!-- Gp -->
    <virtualType name="BigFishPmgwGpFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_GP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwGpValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwGpConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_GP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwGpValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwGpConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwGpConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwGpConfig</argument>
        </arguments>
    </virtualType>
    <!-- Gp -->

    <!-- Ipg -->
    <virtualType name="BigFishPmgwIpgFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_IPG</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwIpgValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwIpgConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_IPG</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwIpgValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwIpgConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwIpgConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwIpgConfig</argument>
        </arguments>
    </virtualType>
    <!-- Ipg -->

    <!-- Khb -->
    <virtualType name="BigFishPmgwKhbFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_KHB</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwKhbValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwKhbConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_KHB</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwKhbValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwKhbConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwKhbConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwKhbConfig</argument>
        </arguments>
    </virtualType>
    <!-- Khb -->

    <!-- Khbszep -->
    <virtualType name="BigFishPmgwKhbszepFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_KHB_SZEP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwKhbszepValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwKhbszepConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_KHB_SZEP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwKhbszepValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwKhbszepConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwKhbszepConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwKhbszepConfig</argument>
        </arguments>
    </virtualType>
    <!-- Khbszep -->

    <!-- Mkbszep -->
    <virtualType name="BigFishPmgwMkbszepFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_MKB_SZEP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwMkbszepValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwMkbszepConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_MKB_SZEP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwMkbszepValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwMkbszepConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwMkbszepConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwMkbszepConfig</argument>
        </arguments>
    </virtualType>
    <!-- Mkbszep -->

    <!-- Otp -->
    <virtualType name="BigFishPmgwOtpFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwOtpValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwOtpConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwOtpValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwOtpConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwOtpConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwOtpConfig</argument>
        </arguments>
    </virtualType>
    <!-- Otp -->

    <!-- Otpaymp -->
    <virtualType name="BigFishPmgwOtpaympFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTPAY_MP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwOtpaympValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwOtpaympConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTPAY_MP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwOtpaympValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwOtpaympConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwOtpaympConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwOtpaympConfig</argument>
        </arguments>
    </virtualType>
    <!-- Otpaymp -->

    <!-- Otpsimple -->
    <virtualType name="BigFishPmgwOtpsimpleFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP_SIMPLE</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwOtpsimpleValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwOtpsimpleConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP_SIMPLE</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwOtpsimpleValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwOtpsimpleConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwOtpsimpleConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwOtpsimpleConfig</argument>
        </arguments>
    </virtualType>
    <!-- Otpsimple -->

    <!-- Otpszep -->
    <virtualType name="BigFishPmgwOtpszepFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP_SZEP</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwOtpszepValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwOtpszepConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_OTP_SZEP</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwOtpszepValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwOtpszepConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwOtpszepConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwOtpszepConfig</argument>
        </arguments>
    </virtualType>
    <!-- Otpszep -->

    <!-- Paypal -->
    <virtualType name="BigFishPmgwPaypalFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYPAL</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwPaypalValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwPaypalConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYPAL</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwPaypalValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwPaypalConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwPaypalConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwPaypalConfig</argument>
        </arguments>
    </virtualType>
    <!-- Paypal -->

    <!-- Paysafecard -->
    <virtualType name="BigFishPmgwPaysafecardFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYSAFECARD</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwPaysafecardValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwPaysafecardConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYSAFECARD</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwPaysafecardValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwPaysafecardConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwPaysafecardConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwPaysafecardConfig</argument>
        </arguments>
    </virtualType>
    <!-- Paysafecard -->

    <!-- Paysafecash -->
    <virtualType name="BigFishPmgwPaysafecashFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYSAFECASH</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwPaysafecashValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwPaysafecashConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYSAFECASH</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwPaysafecashValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwPaysafecashConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwPaysafecashConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwPaysafecashConfig</argument>
        </arguments>
    </virtualType>
    <!-- Paysafecash -->

    <!-- Payu2 -->
    <virtualType name="BigFishPmgwPayu2Facade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYU2</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwPayu2ValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwPayu2Config" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_PAYU2</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwPayu2ValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwPayu2ConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwPayu2ConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwPayu2Config</argument>
        </arguments>
    </virtualType>
    <!-- Payu2 -->

    <!-- Saferpay -->
    <virtualType name="BigFishPmgwSaferpayFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_SAFERPAY</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwSaferpayValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwSaferpayConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_SAFERPAY</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwSaferpayValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwSaferpayConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwSaferpayConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwSaferpayConfig</argument>
        </arguments>
    </virtualType>
    <!-- Saferpay -->

    <!-- Sofort -->
    <virtualType name="BigFishPmgwSofortFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_SOFORT</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwSofortValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwSofortConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_SOFORT</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwSofortValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwSofortConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwSofortConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwSofortConfig</argument>
        </arguments>
    </virtualType>
    <!-- Sofort -->

    <!-- Unicredit -->
    <virtualType name="BigFishPmgwUnicreditFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_UNICREDIT</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwUnicreditValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwUnicreditConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_UNICREDIT</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwUnicreditValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwUnicreditConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwUnicreditConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwUnicreditConfig</argument>
        </arguments>
    </virtualType>
    <!-- Unicredit -->

    <!-- Wirecard -->
    <virtualType name="BigFishPmgwWirecardFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_WIRECARD</argument>
            <argument name="formBlockType" xsi:type="string">Magento\Payment\Block\Form</argument>
            <argument name="infoBlockType" xsi:type="string">BigFish\Pmgw\Block\Info</argument>
            <argument name="valueHandlerPool" xsi:type="object">BigFishPmgwWirecardValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">BigFishPmgwCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Configuration reader -->
    <virtualType name="BigFishPmgwWirecardConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\BigFish\Pmgw\Model\ConfigProvider::CODE_WIRECARD</argument>
        </arguments>
    </virtualType>

    <!-- Value handlers infrastructure -->
    <virtualType name="BigFishPmgwWirecardValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">BigFishPmgwWirecardConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="BigFishPmgwWirecardConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">BigFishPmgwWirecardConfig</argument>
        </arguments>
    </virtualType>
    <!-- Wirecard -->
    
</config>
